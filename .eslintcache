[{"D:\\React\\demo-upt\\src\\index.tsx":"1","D:\\React\\demo-upt\\src\\App.tsx":"2","D:\\React\\demo-upt\\src\\Containers\\DrawToolComponent.tsx":"3","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\DrawTool.ts":"4","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\DrawHistory.ts":"5","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Sides.ts":"6","D:\\React\\demo-upt\\src\\Drawtool\\utils\\errors.ts":"7","D:\\React\\demo-upt\\src\\Drawtool\\utils\\escapeJSON.ts":"8","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Side.ts":"9","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Items.ts":"10","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Layers.ts":"11","D:\\React\\demo-upt\\src\\Drawtool\\utils\\clip.ts":"12","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Item.ts":"13","D:\\React\\demo-upt\\src\\Drawtool\\utils\\colorPicker.ts":"14","D:\\React\\demo-upt\\src\\data\\datadb.ts":"15"},{"size":219,"mtime":1607690246228,"results":"16","hashOfConfig":"17"},{"size":18481,"mtime":1608553361041,"results":"18","hashOfConfig":"17"},{"size":580,"mtime":1607830279765,"results":"19","hashOfConfig":"17"},{"size":7931,"mtime":1608553950358,"results":"20","hashOfConfig":"17"},{"size":2457,"mtime":1608122134147,"results":"21","hashOfConfig":"17"},{"size":1379,"mtime":1607764439682,"results":"22","hashOfConfig":"17"},{"size":331,"mtime":1607692463886,"results":"23","hashOfConfig":"17"},{"size":202,"mtime":1607763261579,"results":"24","hashOfConfig":"17"},{"size":81348,"mtime":1608555602299,"results":"25","hashOfConfig":"17"},{"size":313,"mtime":1607691416245,"results":"26","hashOfConfig":"17"},{"size":6691,"mtime":1607830179715,"results":"27","hashOfConfig":"17"},{"size":8129,"mtime":1607829994804,"results":"28","hashOfConfig":"17"},{"size":1588,"mtime":1607691418766,"results":"29","hashOfConfig":"17"},{"size":3421,"mtime":1608124397881,"results":"30","hashOfConfig":"17"},{"size":685142,"mtime":1608552700104,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"e057jr",{"filePath":"35","messages":"36","errorCount":0,"warningCount":35,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"D:\\React\\demo-upt\\src\\index.tsx",[],["68","69"],"D:\\React\\demo-upt\\src\\App.tsx",["70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104"],"import React, { Component, Fragment } from 'react';\nimport './App.css';\nimport DrawToolComponent from './Containers/DrawToolComponent';\nimport DrawTool from './Drawtool/draw-tool/DrawTool';\nimport { dataDesign, dataObj, stickerCategories, detailDesign } from './data/datadb'\ninterface Props { }\n\ninterface State {\n  dataObj: any\n};\n\nclass App extends Component<Props, State> {\n  state: State = {\n    dataObj: {}\n  };\n\n  constructor(props: Props) {\n\n    super(props)\n\n    this.loadToolBar = this.loadToolBar.bind(this)\n    this.showDesign = this.showDesign.bind(this)\n    this.applyDesign = this.applyDesign.bind(this)\n    this.state.dataObj = dataObj.colors\n  }\n\n  componentDidMount() {\n    this.loadProduct()\n  }\n\n  loadToolBar() {\n    return <Fragment>\n      <h1>ToolBar</h1>\n      <button onClick={() => this.showDesign()}>Show Design</button>\n      <button onClick={() => this.applyDesign()}>Apply Design</button>\n    </Fragment>\n  }\n\n  applyDesign() {\n    console.log(detailDesign);\n    let canvasData = detailDesign.canvas\n\n    var sizePayload = DrawTool.capacity_uploadingAllImage;\n    for (var i = 0; i < canvasData.objects.length; i++) {\n      if (canvasData.objects[i].type == \"image\") {\n        var infoImage = canvasData.objects[i];\n        var xhr = new XMLHttpRequest();\n        xhr.open(\"HEAD\", infoImage.src!, true); // Notice \"HEAD\" instead of \"GET\",\n        xhr.onreadystatechange = function () {\n          if (this.readyState == this.DONE) {\n            var fileSizeGet = parseInt(this.getResponseHeader(\"Content-Length\")!);\n            if (fileSizeGet < 0) fileSizeGet = 0;\n            if (!isNaN(fileSizeGet)) {\n              sizePayload += fileSizeGet;\n            }\n          }\n        };\n        xhr.send();\n      }\n    }\n    setTimeout(() => {\n      if (sizePayload > 31457280) {\n        // swal(\"お知らせ\", \"トータルで30mb以上のファイルをアップロードできません。\", \"warning\");\n        canvasData.objects = canvasData.objects.filter(item => (item.type != \"image\"));\n        canvasData.objects_print = canvasData.objects_print.filter(item => (item.type != \"image\"));\n      }\n      {\n        var jsonCompress = JSON.parse(DrawTool.sides.selected.toJSON());\n        let old_work_area = {\n          size: DrawTool.sides.selected.getOccupiedAreaSize(),\n          factor: {\n            x: DrawTool.sides.selected.getBorder().pixel.width,\n            y: DrawTool.sides.selected.getBorder().pixel.height\n          },\n          defaultWorkspace: DrawTool.sides.selected.defaultWorkspaceSize,\n          oldBorder: DrawTool.sides.selected.FabricBorder,\n        }\n        let old_work_area1 = JSON.parse(JSON.stringify(old_work_area));\n\n        var dataActionValue = 0;\n        for (var i = 0; i < DrawTool.sides.selected.items._collection.length; i++) {\n          let itemImage = DrawTool.sides.selected.items._collection[i];\n          if (itemImage.type && itemImage.sizeImage) {\n            if (itemImage.type == \"image\") {\n              dataActionValue += itemImage.sizeImage;\n            }\n          }\n        }\n\n        // store.dispatch(actions.updateCapacityUploading(0 - dataActionValue));\n        for (var i = 0; i < canvasData.objects.length; i++) {\n          if (DrawTool.embroider_able) {\n            jsonCompress.canvas.objects.push(canvasData.objects[i]);\n          }\n          else {\n            if (canvasData.objects[i].pathIndex) {\n              if (canvasData.objects[i].pathIndex != 1)\n                jsonCompress.canvas.objects.push(canvasData.objects[i]);\n            }\n            else\n              jsonCompress.canvas.objects.push(canvasData.objects[i]);\n          }\n\n        }\n        if (DrawTool.embroider_able) {\n          if ((canvasData.objects_embroidery) && (canvasData.objects_embroidery.length)) {\n            for (var i = 0; i < canvasData.objects_embroidery.length; i++) {\n              if ((canvasData.objects[i].pathIndex) && (canvasData.objects[i].pathIndex == 1))\n                jsonCompress.canvas.objects_embroidery.push(canvasData.objects_embroidery[i]);\n            }\n          }\n        }\n        else\n          if (DrawTool.modeToolDraw == DrawTool.modeSetup.LASER) {\n            if ((canvasData.objects_special_draw) && (canvasData.objects_special_draw.length)) {\n              for (var i = 0; i < canvasData.objects_special_draw.length; i++) {\n                if ((canvasData.objects[i].pathIndex) && (canvasData.objects[i].pathIndex == DrawTool.modeSetup.LASER))\n                  jsonCompress.canvas.objects_special_draw.push(canvasData.objects_special_draw[i]);\n              }\n            }\n          }\n\n        if ((canvasData.objects_print) && (canvasData.objects_print.length)) {\n          for (var i = 0; i < canvasData.objects_print.length; i++) {\n            jsonCompress.canvas.objects_print.push(canvasData.objects_print[i]);\n          }\n        }\n\n        for (var i = 0; i < jsonCompress.canvas.objects.length; i++) {\n          if (jsonCompress.canvas.objects[i].type == \"image\") {\n            jsonCompress.canvas.objects[i].width *= jsonCompress.canvas.objects[i].scaleX;\n            jsonCompress.canvas.objects[i].height *= jsonCompress.canvas.objects[i].scaleY;\n            jsonCompress.canvas.objects[i].scaleX = 1;\n            jsonCompress.canvas.objects[i].scaleY = 1;\n          }\n        }\n\n        for (var i = 0; i < jsonCompress.canvas.objects_print.length; i++) {\n          if (jsonCompress.canvas.objects_print[i].type == \"image\") {\n            jsonCompress.canvas.objects_print[i].width *= jsonCompress.canvas.objects_print[i].scaleX;\n            jsonCompress.canvas.objects_print[i].height *= jsonCompress.canvas.objects_print[i].scaleY;\n            jsonCompress.canvas.objects_print[i].scaleX = 1;\n            jsonCompress.canvas.objects_print[i].scaleY = 1;\n          }\n        }\n        DrawTool.sides.selected.addItemLayer(JSON.stringify(jsonCompress), old_work_area1);\n\n        setTimeout(() => {\n          DrawTool.sides.selected.setOverlayBorder(\"\", true);\n\n          for (var i = 0; i < DrawTool.sides.selected.items._collection.length; i++) {\n            if (DrawTool.sides.selected.items._collection[i].type == \"image\") {\n              var infoImage = DrawTool.sides.selected.items._collection[i];\n              var xhr = new XMLHttpRequest();\n              xhr.open(\"HEAD\", infoImage.src, true); // Notice \"HEAD\" instead of \"GET\",\n              xhr.onreadystatechange = function () {\n                if (this.readyState == this.DONE) {\n\n                  var fileSizeGet = parseInt(this.getResponseHeader(\"Content-Length\")!);\n                  if (fileSizeGet < 0) fileSizeGet = 0;\n                  if (!isNaN(fileSizeGet)) {\n                    DrawTool.sides.selected.items._collection.forEach((element: any) => {\n                      if (element.src == this.responseURL) {\n                        element.sizeImage = fileSizeGet;\n                      }\n                    });\n                    // store.dispatch(actions.updateCapacityUploading(fileSizeGet));\n                  }\n                }\n              };\n              xhr.send();\n            }\n          }\n\n          if (DrawTool.embroider_able) {\n            // store.dispatch(actions.unselectItem())\n            DrawTool.sides.selected.FabricCanvas.deactivateAll();\n            DrawTool.sides.selected.FabricCanvas.renderAll();\n            DrawTool.sides.select(DrawTool.sides.selected.id);\n            DrawTool.sides.selected.panning = false;\n            DrawTool.sides.selected.drawingMode(false);\n            DrawTool.setEmbroidery(DrawTool.is_embroidery);\n          }\n        }, 500);\n      }\n    }, 500);\n\n  }\n\n  showDesign() {\n    console.log(dataDesign);\n\n    if (dataDesign.product.colors.length) {\n\n      if (dataDesign.category_id === 62) {\n        DrawTool.is_nail = true;\n      }\n      else {\n        DrawTool.is_nail = false;\n      }\n      if (!dataDesign.product.Product.embroider_able)\n        dataDesign.product.Product.embroider_able = 0;\n      if (1 === dataDesign.product.Product.embroider_able)\n        DrawTool.embroider_able = true;\n      else\n        DrawTool.embroider_able = false;\n      if ((!!dataDesign.product.Product.special_draw) && (dataDesign.product.Product.special_draw >= DrawTool.modeSetup.LASER)) {\n        DrawTool.modeToolDraw = dataDesign.product.Product.special_draw;\n      }\n      else {\n        if (DrawTool.embroider_able)\n          DrawTool.modeToolDraw = DrawTool.modeSetup.EMBROIDER;\n        else\n          DrawTool.modeToolDraw = -1;\n      }\n\n      const color = dataDesign.product.colors.find((c: any) => {\n        return c.ProductColor.id === dataDesign.selected_color_id;\n      });\n      console.log(color);\n\n      const data = color.sides.map((side: any) => {\n        return JSON.parse(side.ProductColorSide.content);\n      });\n\n      let overlayImages = \"\";\n      if (color.sides.length === 1) {\n        overlayImages = color.sides.map((side: any) => {\n          if (side.ProductColorSide.overlay_image) {\n            return side.ProductColorSide.overlay_image;\n          }\n        });\n      }\n      let currentCategory = dataDesign.category_id;\n\n\n      DrawTool.importJSON(JSON.stringify(data)).then(() => {\n        for (var i = 0; i < data.length; i++) {\n          if (data[i].border_special) {\n            DrawTool.sides.selected.saveBoder(data[i].border, data[i].border_special);\n          }\n        }\n        DrawTool.sides._collection.forEach((side, index) => {\n          // store.dispatch(actions.updateProcessBar(0.8))\n          if (dataDesign.sides[side.id]) {\n            console.log(JSON.parse(dataDesign.sides[side.id]));\n\n            //console.log(\"delete fun tion by cuongLV11  LOAD_PRODUCT_WITH_DESIGN\");\n            //DrawTool.updateEmbroideryBorder(JSON.parse(action.payload.sides[side.id]).embroiderySaveBorder);\n            setTimeout(() => {\n              if (dataDesign.sides[side.id].startsWith('http')) {\n\n                side.items.addImage(`${dataDesign.sides[side.id]}?_`);\n                if (data.length === 1 && overlayImages.length > 0 && overlayImages[index] && !DrawTool.is_nail) {\n                  DrawTool.sides.selected.overlay = true\n                  DrawTool.sides.selected.setOverlayBorder(overlayImages[index]);\n                  DrawTool.sides.selected.FabricCanvas._objects.map((item: any) => {\n                    if (item.id != \"FabricBorder\") {\n                      item.clipTo = null\n                    }\n                  })\n                  DrawTool.sides.selected.FabricCanvas.renderAll();\n                }\n                // store.dispatch(actions.updateProcessBar(0.99));\n                // store.dispatch(product_action.setLoadingData(false));\n                // store.dispatch(actions.setLoadingProcess(false));\n                // store.dispatch(actions.setLoading(false));\n                DrawTool.setLayerSetup(-1);\n              } else {\n                side.fromJSON(dataDesign.sides[side.id], () => {\n                  // store.dispatch(product_action.setLoadingData(false));\n                  if (data.length === 1 && overlayImages.length > 0 && overlayImages[index] && !DrawTool.is_nail) {\n                    DrawTool.sides.selected.overlay = true\n                    DrawTool.sides.selected.FabricCanvas._objects.map((item: any) => {\n                      if (item.id != \"FabricBorder\") {\n                        item.clipTo = null\n                      }\n                      DrawTool.sides.selected.setOverlayBorder(overlayImages[index]);\n                    })\n                    DrawTool.sides.selected.FabricCanvas.renderAll();\n                  }\n\n                  setTimeout(() => {\n                    // store.dispatch(actions.updateLayers({\n                    //   layers: DrawTool.sides.selected.layers.update().reverse(),\n                    //   side: DrawTool.sides.selected.id,\n                    // }));\n                    // store.dispatch(actions.setActiveTool('pointer'));\n                    // store.dispatch(actions.updateProcessBar(0.99));\n                    // store.dispatch(actions.setLoadingProcess(false));\n                    // store.dispatch(actions.setLoading(false));\n                    DrawTool.setLayerSetup(-1);\n                  }, 2000);\n                }, true);\n              }\n            }, 1000)\n          }\n        });\n        DrawTool.trigger('product:load', {});\n\n        setTimeout(() => {\n          if (DrawTool.modeSetup.LASER == DrawTool.modeToolDraw) {\n            // store.dispatch(actions.updateBorder());\n          }\n        }, 3500);\n        setTimeout(() => {\n\n\n          DrawTool.sides._collection.forEach(function (side) {\n            console.log(side.items._collection);\n            for (var i = 0; i < side.items._collection.length; i++) {\n              if (side.items._collection[i].type == \"image\") {\n                var infoImage = side.items._collection[i];\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"HEAD\", infoImage.src, true); // Notice \"HEAD\" instead of \"GET\",\n                xhr.onreadystatechange = function () {\n                  if (this.readyState == this.DONE) {\n                    //console.log(\"get alll info .................................... checkk allcd  \");\n                    //console.log(this);\n                    var fileSizeGet = parseInt(this.getResponseHeader(\"Content-Length\")!);\n                    var dataurl = this.responseURL;\n                    if (fileSizeGet < 0) fileSizeGet = 0;\n                    //console.log(\"APPLY_TEMPLATE ..........................\");\n                    //console.log(fileSizeGet);\n                    //console.log(fileSizeGet);\n                    if (!isNaN(fileSizeGet)) {\n                      DrawTool.sides._collection.forEach(function (sideIn) {\n                        sideIn.items._collection.forEach((element: any) => {\n                          if (element.src == dataurl) {\n                            element.sizeImage = fileSizeGet;\n                          }\n                        });\n                      });\n                      // store.dispatch(actions.updateCapacityUploading(fileSizeGet));\n                      // console.log(DrawTool.sides.selected.items._collection);\n                      //console.log(linkUp);\n                    }\n                  }\n                };\n                xhr.send();\n              }\n            }\n\n          });\n        }, 2100);\n      });\n\n      DrawTool.sides.select(\n        JSON.parse(JSON.parse(JSON.stringify(color.sides[0].ProductColorSide.content))).id\n      );\n    }\n  }\n\n\n  loadProduct() {\n    // console.log(dataDesign);\n\n    DrawTool._embroideryPaths = [];\n    // if (action.payload.Product && action.payload.colors.length) {\n    //   if (action.payload.Product.category_id === 62) {\n    //     DrawTool.is_nail = true;\n    //     // DrawTool.is_ribbon = false;\n    //   }\n    //   //  else if(action.payload.Product.category_id === 80){\n    //   //   DrawTool.is_ribbon = true;\n    //   // }\n    //   else {\n    //     DrawTool.is_nail = false;\n    //     // DrawTool.is_ribbon = false;\n    //   }\n\n\n\n    let color = this.state.dataObj[0]\n\n    // console.log(action.payload);\n    // if (!action.payload.Product.embroider_able)\n    //   action.payload.Product.embroider_able = 0;\n    // if (1 == action.payload.Product.embroider_able)\n    //   DrawTool.embroider_able = true;\n    // else\n    //   DrawTool.embroider_able = false;\n\n\n    // if ((action.payload.Product.special_draw) && (action.payload.Product.special_draw >= DrawTool.modeSetup.LASER)) {\n    //   DrawTool.modeToolDraw = action.payload.Product.special_draw;\n    // }\n    // else {\n    //   if (DrawTool.embroider_able)\n    //     DrawTool.modeToolDraw = DrawTool.modeSetup.EMBROIDER;\n    //   else {\n    //     if (DrawTool.embroider_able)\n    //       DrawTool.modeToolDraw = DrawTool.modeSetup.EMBROIDER;\n    //     else\n    //       DrawTool.modeToolDraw = -1;\n    //   }\n    // }\n\n    const data = color.sides.map((side: any) => {\n\n      let content = side.ProductColorSide.content\n\n      return content;//JSON.parse(JSON.parse(escapeJSON(side.ProductColorSide.content)));\n    });\n\n    // console.log(data);\n\n\n    // store.dispatch(actions.updateProcessBar(0.7))\n    let overlayImages = \"\";\n    if (color.sides.length === 1) {\n      overlayImages = color.sides.map((side: any) => {\n        if (side.ProductColorSide.overlay_image) {\n          return side.ProductColorSide.overlay_image;\n        }\n      });\n    }\n\n    console.log(data);\n\n    DrawTool.importJSON(JSON.stringify(data)).then(() => {\n      DrawTool.sides.select(color.sides[1].ProductColorSide.content.id);\n      // store.dispatch(product_action.setLoadingData(false));\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].border_special) {\n          DrawTool.sides.selected.saveBoder(data[i].border, data[i].border_special);\n        }\n      }\n      // if (data.length === 1 && overlayImages.length > 0 && overlayImages[0] && !DrawTool.is_nail) {\n      //   DrawTool.sides.selected.overlay = true\n      //   DrawTool.sides.selected.setOverlayBorder(overlayImages[0]);\n      //   DrawTool.sides.selected.FabricCanvas._objects.map((item: any) => {\n      //     if (item.id != \"FabricBorder\") {\n      //       item.clipTo = null\n      //     }\n      //   });\n      //   DrawTool.sides.selected.FabricCanvas.renderAll();\n      // }\n      DrawTool.sides.selected.FabricCanvas.renderAll();\n      // store.dispatch(actions.updateProcessBar(0.99))\n      setTimeout(() => {\n\n        // store.dispatch(actions.resetDefaultParas(false));\n        DrawTool.sides.selected.setSelectableForDesign();\n        // store.dispatch(product_action.setLoadingData(false));\n        // store.dispatch(actions.setLoading(false));\n        // store.dispatch(actions.updateProcessBar(100));\n        // store.dispatch(actions.setLoadingProcess(false));\n        DrawTool.setLayerSetup(-1);\n        // if (DrawTool.modeSetup.LASER == DrawTool.modeToolDraw) {\n        //   store.dispatch(actions.updateBorder());\n        // }\n      }, 2000)\n      DrawTool.trigger('product:load', {});\n    });\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\" >\n        <div className=\"app-container\">\n\n          <div className=\"app-container-inner\">\n            <div className=\"toolbar\">\n              {this.loadToolBar()}\n            </div>\n            <DrawToolComponent colors={this.state.dataObj}></DrawToolComponent>\n          </div>\n        </div>\n\n      </div >\n    );\n  }\n\n}\n\nexport default App;\n","D:\\React\\demo-upt\\src\\Containers\\DrawToolComponent.tsx",["105"],"import { Component, ReactNode } from \"react\";\r\nimport DrawTool from \"../Drawtool/draw-tool/DrawTool\";\r\n\r\ninterface Props {\r\n    colors:any\r\n }\r\n\r\ninterface State {\r\n    node: ReactNode\r\n};\r\n\r\nclass DrawToolComponent extends Component<Props, State>{\r\n    state: State = {\r\n        node: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        DrawTool.initialize(this.state.node as HTMLElement, {});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"draw-tool\" ref={(node) => { this.state.node = node}} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default DrawToolComponent;","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\DrawTool.ts",["106","107"],"import errors from \"../utils/errors\";\r\nimport escapeJSON from \"../utils/escapeJSON\";\r\nimport DrawHistory from \"./DrawHistory\";\r\nimport Side from \"./Side\";\r\nimport Sides from \"./Sides\";\r\n\r\nlet DrawTool = {\r\n    editable: false,\r\n    container: {\r\n        target: document.body,\r\n        size: {\r\n            width: 0,\r\n            height: 0\r\n        }\r\n    },\r\n    modeSetup: {\r\n        NOMAL: -1,\r\n        EMBROIDER: 1,\r\n        LASER: 3,\r\n        MASK_LASER: 4,\r\n        TAP_RIBBON: 5, //Type1(white, black, red, blue )   ?Tape Editor\r\n        TAP_RIBBON_2EDIT: 6, //Type2(black, red, blue, gold, silver) ?Ribbon Editor\r\n        DRAW3D: 20\r\n    },\r\n    uploadImageState: [],\r\n    gridStep: 10,\r\n    grid: {\r\n        color: 'rgba(150, 150, 150, 0.1)',\r\n        strokeWidth: 1\r\n    },\r\n    border: {\r\n        color: 'rgba(100,200,200,1)',\r\n        strokeWidth: 1,\r\n        backgroundColor: 'rgba(150, 150, 150, 0.1)',\r\n        strokeDashArray: [0, 0],\r\n    },\r\n    newColorPicked: null,\r\n\r\n    _callbacks: {} as any,\r\n\r\n    sides: new Sides(),\r\n    history: new DrawHistory(),\r\n    _evented: true,\r\n\r\n    __data: {} as any,\r\n    modeSpecialDrawEnable: -1,\r\n    is_embroidery: false,\r\n    embroider_able: false,\r\n    capacity_uploadingAllImage: 0,\r\n    _originalJson: {},\r\n\r\n    _designBorders: [] as any[],\r\n    _embroideryPaths: [] as any,\r\n    is_choosing: false,\r\n\r\n    is_nail: false,\r\n\r\n    is_mobile: false,\r\n    is_data: [],\r\n    is_sp_product: false,\r\n    is_area_embroider: false,\r\n    fonts: null,\r\n    rasterizedText: null,\r\n    modeToolDraw: -1 as number,\r\n    //func\r\n    initialize(target: HTMLElement, size: any) {\r\n        if (!(target instanceof HTMLElement)) {\r\n            throw (new Error(JSON.stringify({ error: errors.HTMLElementUndefined })));\r\n        }\r\n\r\n        // let _target = window.hasOwnProperty('jQuery') && target instanceof jQuery ? target[0] : target;\r\n        let _target = target;\r\n\r\n        let _size = size || {};\r\n\r\n        this.container = {\r\n            target: _target,\r\n            size: _size\r\n        };\r\n\r\n        this.container.target.textContent = '';\r\n        this.container.target.style.position = 'relative';\r\n\r\n        // this.sides = new Sides();\r\n\r\n        this.history = new DrawHistory();\r\n    },\r\n    setEmbroidery(val = false) {\r\n        this.is_embroidery = val;\r\n        if (!val) {\r\n            this.sides.selected._selected_path_index = -1;\r\n            this.modeSpecialDrawEnable = -1;\r\n        } else {\r\n            this.sides.selected._selected_path_index = 1;\r\n            this.modeSpecialDrawEnable = 1;\r\n        }\r\n        this.sides._collection.map((side) => {\r\n            side.setSelectableForDesign();\r\n        });\r\n\r\n        this.sides.selected.FabricCanvas.renderAll();\r\n    },\r\n\r\n    rec2path(rec: any) {\r\n        return `\"M${rec.left} ${rec.top} h ${rec.width} v ${rec.height} h -${rec.width} Z\"`;\r\n    },\r\n\r\n    recs2paths(recs: any) {\r\n        recs.map((r: any) => {\r\n            r.right = r.left + r.width;\r\n            r.bottom = r.top + r.height;\r\n        });\r\n\r\n        let lefts = recs.map((r: any) => { return r.left });\r\n        let rights = recs.map((r: any) => { return r.right });\r\n        let tops = recs.map((r: any) => { return r.top });\r\n        let bottoms = recs.map((r: any) => { return r.bottom });\r\n        let minLeft = Math.min(...lefts);\r\n        let maxRight = Math.max(...rights);\r\n        let minTop = Math.min(...tops);\r\n        let maxBottom = Math.max(...bottoms);\r\n        let width = maxRight - minLeft;\r\n        let height = maxBottom - minTop;\r\n\r\n        let paths = `\"M${minLeft} ${minTop} h${0.01} v${0.01} h-${0.01} v-${0.01} M${maxRight} ${maxBottom} h -${0.01} v -${0.01} h ${0.01} v ${0.01}\"`;\r\n        Array.prototype.forEach.call(recs, (item, i) => {\r\n            paths += \",\" + this.rec2path(item);\r\n        });\r\n\r\n        let cmpixel = `{\"left\": ${minLeft},\"top\": ${minTop},\"width\": ${width},\"height\": ${height}}`;\r\n        return `{\"paths\": [${paths}], \"cm\": ${cmpixel}, \"pixel\": ${cmpixel}}`;\r\n    },\r\n    setLayerSetup(val = 0) {\r\n        this.modeSpecialDrawEnable = val;\r\n        if (this.modeSpecialDrawEnable < 1) {\r\n            this.sides.selected._selected_path_index = -1;\r\n            this.is_embroidery = false;\r\n        } else {\r\n            this.sides.selected._selected_path_index = this.modeSpecialDrawEnable;\r\n            //if(this.modeSpecialDrawEnable==1) this.is_embroidery = true;\r\n        }\r\n        this.sides._collection.map((side: Side) => {\r\n            side.setSelectableForDesign();\r\n            return side\r\n        });\r\n        this.sides.selected.FabricCanvas.renderAll();\r\n    },\r\n\r\n\r\n    importJSON(json: any, initialZoom?: Number, proportions?: Number | 0.5) {\r\n        this._originalJson = json;\r\n        let oldSideSizes: any = {};\r\n\r\n        Array.prototype.forEach.call(this.sides._collection, (side: Side) => {\r\n            if (side.layers.list.length)\r\n                oldSideSizes[side.id] = side.getOccupiedAreaSize();\r\n        });\r\n\r\n        if (this.sides._collection.length) {\r\n            this.sides.empty();\r\n            this.history.history = {};\r\n        }\r\n        let that = this\r\n\r\n        let data = JSON.parse(escapeJSON(json));\r\n        DrawTool.is_data = JSON.parse(escapeJSON(json));\r\n        let promises = data.map((side: Side) => {\r\n            let _side = this.sides.addSide(side.id);\r\n            let imageUrl = side.imageUrl;\r\n\r\n            if (imageUrl.indexOf('http') === 0)\r\n                imageUrl += '?_';\r\n\r\n            var border = { sideId: side.id, border: [side.border.cm, side.border.pixel] };\r\n            this._designBorders.push(border);\r\n\r\n            return _side.setImage(imageUrl, side.size.cm, proportions, side.border.cm);\r\n        });\r\n\r\n        var spProductObj = data.find((dt: any) => {\r\n            return dt.id === '1';\r\n        });\r\n\r\n        if (spProductObj.border.cm.width === 120) {\r\n            this.is_sp_product = true;\r\n        } else {\r\n            this.is_sp_product = false;\r\n        }\r\n\r\n        return new Promise<any>((resolve, reject) => {\r\n\r\n            Promise.all(promises).then(values => {\r\n                values.map((d: any, index) => {\r\n                    let _side = that.sides.getSide(d.side.id);\r\n\r\n                    _side.defaultWorkspaceSize = data[index].border.pixel;\r\n\r\n                    _side.setBorder(data[index].border);\r\n\r\n                    if (initialZoom) {\r\n                        _side.zoomToVal(initialZoom);\r\n                    }\r\n                    if ((DrawTool.modeToolDraw === DrawTool.modeSetup.TAP_RIBBON) || (DrawTool.modeToolDraw === DrawTool.modeSetup.TAP_RIBBON_2EDIT)) {\r\n                        _side.zoomToVal(1.6);\r\n                    }\r\n\r\n                    setTimeout(() => {\r\n                        if (this.__data[_side.id]) {\r\n                            if (oldSideSizes[_side.id] && !this.is_choosing) {\r\n                                _side.fromJSON(this.__data[_side.id], () => { }, false, oldSideSizes[_side.id]);\r\n                                this.is_choosing = false;\r\n                            }\r\n                            else\r\n                                _side.fromJSON(this.__data[_side.id]);\r\n                        }\r\n\r\n                        _side.FabricCanvas.renderAll.bind(_side.FabricCanvas);\r\n                    });\r\n                    return d\r\n                });\r\n\r\n                resolve(null);\r\n            });\r\n        });\r\n    },\r\n\r\n\r\n    trigger(event: String, data?: any) {\r\n        if (!this._evented) {\r\n            return false;\r\n        }\r\n\r\n        if (event === 'history:update') {\r\n            this.history.pushState(data.side.id);\r\n            this.sides.getSide(data.side.id).layers.update();\r\n        }\r\n\r\n        if (this._callbacks.hasOwnProperty(event)) {\r\n            this._callbacks.event.forEach((cb: any) => cb(JSON.stringify(data)));\r\n        }\r\n    },\r\n}\r\n\r\nexport default DrawTool;","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\DrawHistory.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Sides.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\utils\\errors.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\utils\\escapeJSON.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Side.ts",["108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133"],"D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Items.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Layers.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\utils\\clip.ts",["134","135","136"],"export default function (border: any, offset = true) {\r\n\r\n  if (typeof border._objects !== 'undefined' && border._objects.length > 0 && border._objects[0].type === 'path') {\r\n    var generate = function () {\r\n      return `\r\n          if(!!this.lastBorder){\r\n              var dataBoder=JSON.parse(this.lastBorder);\r\n              if(dataBoder.isPath){\r\n                    var border = dataBoder.border;\r\n                    var offsetY = dataBoder.offsetY;\r\n                    var offsetX = dataBoder.offsetX;\r\n        \r\n                    this.setCoords();\r\n                    ctx.save();\r\n                    var m = this.calcTransformMatrix();\r\n                    var iM = fabric.util.invertTransform(m);\r\n                    ctx.transform.apply(ctx, iM);\r\n                    ctx.beginPath();\r\n                    for(var i=0;i<dataBoder.allBorder.length;i++){\r\n                      let path = dataBoder.allBorder[i];\r\n                      var valueX=offsetX - dataBoder.minX * border.scaleX + (dataBoder.drawToolBorder.strokeWidth / 2) * border.scaleX;\r\n                      var valueY=offsetY - dataBoder.minY * border.scaleY + (dataBoder.drawToolBorder.strokeWidth / 2) * border.scaleY;\r\n                      DrawTool.drawPathOnCtx.call(\r\n                        path,\r\n                        ctx,\r\n                        valueX,\r\n                        valueY,\r\n                        border.scaleX,\r\n                        border.scaleY\r\n                      );\r\n  \r\n                    }\r\n        \r\n                    ctx.closePath();\r\n                    ctx.restore();\r\n              }\r\n              else\r\n              {\r\n                  this.setCoords();\r\n                  var clipRect = dataBoder.border;\r\n                  var offsetY = dataBoder.offsetY;\r\n                  var offsetX = dataBoder.offsetX;\r\n                  ctx.save();\r\n                  var m = this.calcTransformMatrix();\r\n                  var iM = fabric.util.invertTransform(m);\r\n                  ctx.transform.apply(ctx, iM);\r\n                  ctx.beginPath();\r\n          \r\n                  ctx.rect(\r\n                    offsetX,\r\n                    offsetY,\r\n                    clipRect.width - clipRect.strokeWidth,\r\n                    clipRect.height - clipRect.strokeWidth\r\n                  );\r\n                  ctx.closePath();\r\n                  ctx.restore();\r\n              }\r\n          }\r\n          else\r\n          {\r\n            if((!!DrawTool.sides.selected.FabricBorder._objects)&&(DrawTool.sides.selected.FabricBorder._objects.length>0)){\r\n              var border = fabric.util.object.clone(DrawTool.sides.selected.FabricBorder._objects[0]);\r\n              var offset = ${JSON.stringify(offset)};\r\n              if(offset){\r\n                var offsetY = DrawTool.sides.selected.FabricBorder.top;\r\n                var offsetX = DrawTool.sides.selected.FabricBorder.left;\r\n              } else {\r\n                var offsetY = 0;\r\n                var offsetX = 0;\r\n              }\r\n  \r\n              this.setCoords();\r\n              ctx.save();\r\n              var m = this.calcTransformMatrix();\r\n              var iM = fabric.util.invertTransform(m);\r\n              ctx.transform.apply(ctx, iM);\r\n              ctx.beginPath();\r\n  \r\n              Array.prototype.forEach.call(DrawTool.sides.selected.FabricBorder._objects, function(path, i) {\r\n                DrawTool.drawPathOnCtx.call(\r\n                  path,\r\n                  ctx,\r\n                  offsetX - border.minX * border.scaleX + (DrawTool.border.strokeWidth / 2) * border.scaleX,\r\n                  offsetY - border.minY * border.scaleY + (DrawTool.border.strokeWidth / 2) * border.scaleY,\r\n                  border.scaleX,\r\n                  border.scaleY\r\n                );\r\n              });\r\n  \r\n              ctx.closePath();\r\n              ctx.restore();\r\n            }\r\n            else\r\n            {\r\n  \r\n              this.setCoords();\r\n                var offsetY = DrawTool.sides.selected.FabricBorder.top;\r\n                var offsetX = DrawTool.sides.selected.FabricBorder.left;\r\n                ctx.save();\r\n                var m = this.calcTransformMatrix();\r\n                var iM = fabric.util.invertTransform(m);\r\n                ctx.transform.apply(ctx, iM);\r\n                ctx.beginPath();\r\n        \r\n                ctx.rect(\r\n                  offsetX,\r\n                  offsetY,\r\n                  DrawTool.sides.selected.FabricBorder.width - DrawTool.sides.selected.FabricBorder.strokeWidth,\r\n                  DrawTool.sides.selected.FabricBorder.height - DrawTool.sides.selected.FabricBorder.strokeWidth\r\n                );\r\n                ctx.closePath();\r\n                ctx.restore();\r\n  \r\n            }\r\n          }\r\n          `;\r\n    }\r\n  } else {\r\n    var rect = Object.assign({}, {\r\n      left: border.left,\r\n      top: border.top,\r\n      width: border.width,\r\n      height: border.height,\r\n      strokeWidth: border.strokeWidth,\r\n    });\r\n\r\n    var generate = function () {\r\n      return `\r\n          if(!!this.lastBorder){\r\n            var dataBoder=JSON.parse(this.lastBorder);\r\n            if(dataBoder.isPath){\r\n                    var border = dataBoder.border;\r\n                    var offsetY = dataBoder.offsetY;\r\n                    var offsetX = dataBoder.offsetX;\r\n        \r\n                    this.setCoords();\r\n                    ctx.save();\r\n                    var m = this.calcTransformMatrix();\r\n                    var iM = fabric.util.invertTransform(m);\r\n                    ctx.transform.apply(ctx, iM);\r\n                    ctx.beginPath();\r\n                    for(var i=0;i<dataBoder.allBorder.length;i++){\r\n                      let path = dataBoder.allBorder[i];\r\n                      var valueX=offsetX - dataBoder.minX * border.scaleX + (dataBoder.drawToolBorder.strokeWidth / 2) * border.scaleX;\r\n                      var valueY=offsetY - dataBoder.minY * border.scaleY + (dataBoder.drawToolBorder.strokeWidth / 2) * border.scaleY;\r\n                      DrawTool.drawPathOnCtx.call(\r\n                        path,\r\n                        ctx,\r\n                        valueX,\r\n                        valueY,\r\n                        border.scaleX,\r\n                        border.scaleY\r\n                      );\r\n                    }\r\n        \r\n                    ctx.closePath();\r\n                    ctx.restore();\r\n            }\r\n            else\r\n            {\r\n              this.setCoords();\r\n              var clipRect = dataBoder.border;\r\n              var offsetY = dataBoder.offsetY;\r\n              var offsetX = dataBoder.offsetX;\r\n              ctx.save();\r\n              var m = this.calcTransformMatrix();\r\n              var iM = fabric.util.invertTransform(m);\r\n              ctx.transform.apply(ctx, iM);\r\n              ctx.beginPath();\r\n      \r\n              ctx.rect(\r\n                offsetX,\r\n                offsetY,\r\n                clipRect.width - clipRect.strokeWidth,\r\n                clipRect.height - clipRect.strokeWidth\r\n              );\r\n              ctx.closePath();\r\n              ctx.restore();\r\n            }\r\n          }\r\n          else\r\n          {\r\n             this.setCoords();\r\n              var clipRect = ${JSON.stringify(rect)};\r\n              var offset = ${JSON.stringify(offset)};\r\n      \r\n              if(offset){\r\n                var offsetY = clipRect.top;\r\n                var offsetX = clipRect.left;\r\n              } else {\r\n                var offsetY = 0;\r\n                var offsetX = 0;\r\n              }\r\n              ctx.save();\r\n              var m = this.calcTransformMatrix();\r\n              var iM = fabric.util.invertTransform(m);\r\n              ctx.transform.apply(ctx, iM);\r\n              ctx.beginPath();\r\n      \r\n              ctx.rect(\r\n                offsetX,\r\n                offsetY,\r\n                clipRect.width - clipRect.strokeWidth,\r\n                clipRect.height - clipRect.strokeWidth\r\n              );\r\n              ctx.closePath();\r\n              ctx.restore();\r\n          }\r\n  \r\n          `\r\n    }\r\n  }\r\n\r\n  return new Function('ctx', generate());\r\n};\r\n","D:\\React\\demo-upt\\src\\Drawtool\\draw-tool\\Item.ts",[],"D:\\React\\demo-upt\\src\\Drawtool\\utils\\colorPicker.ts",["137"],"import { fabric } from 'fabric';\r\nimport Side from '../draw-tool/Side';\r\n\r\nclass colorPicker {\r\n    side: any\r\n    _active: boolean\r\n    _color: any\r\n    cursor: any\r\n    constructor(side: Side) {\r\n\r\n        var that = this;\r\n\r\n        this.side = side;\r\n\r\n        this._active = false;\r\n\r\n        this._color = '#000000';\r\n\r\n        this.cursor = new fabric.Circle({\r\n            left: 0,\r\n            top: 0,\r\n            radius: 20,\r\n            strokeWidth: 3,\r\n            stroke: '#ffffff',\r\n            originX: 'center',\r\n            originY: 'center',\r\n            selectable: false,\r\n            excludeFromExport: true,\r\n            evented: false,\r\n            shadow: new fabric.Shadow('2px 2px 10px rgba(0,0,0,0.2)'),\r\n            lockUniScaling: true\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    set active(value) {\r\n        this._active = value;\r\n        if (value !== undefined && !value) {\r\n            this.side.FabricCanvas.remove(this.cursor);\r\n            this.side.items._collection.forEach((object: any) => object.selectable = !value);\r\n            this.side.FabricCanvas.hoverCursor = 'all-scroll';\r\n        } else if (value === true) {\r\n            this.side.items._collection.forEach((object: any) => object.selectable = !value);\r\n            this.side.FabricCanvas.hoverCursor = 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAbFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0Iv+qAAAAJHRSTlMAz7bnBNm547yTjhD+697Hw7KJfcumoJJ2XCkYCvDBVElEMiHmZ6DLAAAAiElEQVQY023ORw6EMBQDUBMI6Y3ept//jqNILEKCl0//W8Zb9yjCxGgL7kd86DNX9wJIlWEXoc114Hdatygbmpqct6WS+waHdbvchjhE117lDROFJEiVymkAmEMapSs0diYixZUCVuAwqe6+YzJ+mCXRH6/CAeCb7ZVGAY3HNfNjQ+DIsjDK9z+4kgU9DvokHAAAAABJRU5ErkJggg==\"), auto';\r\n            // this.side.items.selected.deactivate();\r\n        }\r\n    }\r\n\r\n    get active() {\r\n        return this._active;\r\n    }\r\n\r\n    set color(color) {\r\n        if (color !== undefined && color) {\r\n            this._color = color;\r\n            this.cursor.setFill(color);\r\n        }\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n\r\n    move(e: any) {\r\n        // let pointer = this.side.FabricCanvas.getPointer(e.e);\r\n\r\n        let absoluteOffset = e.e.target.getBoundingClientRect();\r\n        let coord = {\r\n            x: e.e.layerX || e.e.touches[0].clientX - absoluteOffset.left,\r\n            y: e.e.layerY || e.e.touches[0].clientY - absoluteOffset.top\r\n        };\r\n\r\n        this.color = this.getColor(coord.x * window.devicePixelRatio, coord.y * window.devicePixelRatio);\r\n\r\n        // this.side.FabricCanvas.remove(this.cursor);\r\n        // this.side.FabricCanvas.add(this.cursor);\r\n        // this.cursor.bringToFront();\r\n        //\r\n        // if(e.e.layerX < 50 || e.e.layerY < 50){\r\n        //   this.cursor.top = pointer.y + 30;\r\n        //   this.cursor.left = pointer.x + 30;\r\n        // } else {\r\n        //   this.cursor.top = pointer.y - 30;\r\n        //   this.cursor.left = pointer.x - 30;\r\n        // }\r\n        //\r\n        // this.side.FabricCanvas.renderAll()\r\n    }\r\n\r\n    getColor(x: any, y: any) {\r\n\r\n        let px = this.side.FabricCanvas.contextContainer.getImageData(x, y, 1, 1).data;\r\n\r\n        return '#' + new fabric.Color('rgb(' + px[0] + ', ' + px[1] + ', ' + px[2] + ')').toHex();\r\n    }\r\n\r\n};\r\n\r\nexport default colorPicker;\r\n","D:\\React\\demo-upt\\src\\data\\datadb.ts",[],{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","severity":1,"message":"143","line":5,"column":31,"nodeType":"144","messageId":"145","endLine":5,"endColumn":48},{"ruleId":"146","severity":1,"message":"147","line":45,"column":38,"nodeType":"148","messageId":"149","endLine":45,"endColumn":40},{"ruleId":"150","severity":1,"message":"151","line":49,"column":34,"nodeType":"152","messageId":"153","endLine":57,"endColumn":10},{"ruleId":"146","severity":1,"message":"147","line":50,"column":31,"nodeType":"148","messageId":"149","endLine":50,"endColumn":33},{"ruleId":"146","severity":1,"message":"154","line":64,"column":75,"nodeType":"148","messageId":"149","endLine":64,"endColumn":77},{"ruleId":"146","severity":1,"message":"154","line":65,"column":87,"nodeType":"148","messageId":"149","endLine":65,"endColumn":89},{"ruleId":"146","severity":1,"message":"147","line":84,"column":32,"nodeType":"148","messageId":"149","endLine":84,"endColumn":34},{"ruleId":"142","severity":1,"message":"155","line":85,"column":15,"nodeType":"144","messageId":"145","endLine":85,"endColumn":30},{"ruleId":"156","severity":1,"message":"157","line":91,"column":18,"nodeType":"144","messageId":"158","endLine":91,"endColumn":19},{"ruleId":"146","severity":1,"message":"154","line":97,"column":51,"nodeType":"148","messageId":"149","endLine":97,"endColumn":53},{"ruleId":"156","severity":1,"message":"157","line":107,"column":22,"nodeType":"144","messageId":"158","endLine":107,"endColumn":23},{"ruleId":"146","severity":1,"message":"147","line":108,"column":89,"nodeType":"148","messageId":"149","endLine":108,"endColumn":91},{"ruleId":"146","severity":1,"message":"147","line":114,"column":37,"nodeType":"148","messageId":"149","endLine":114,"endColumn":39},{"ruleId":"156","severity":1,"message":"157","line":116,"column":24,"nodeType":"144","messageId":"158","endLine":116,"endColumn":25},{"ruleId":"146","severity":1,"message":"147","line":117,"column":91,"nodeType":"148","messageId":"149","endLine":117,"endColumn":93},{"ruleId":"156","severity":1,"message":"157","line":124,"column":20,"nodeType":"144","messageId":"158","endLine":124,"endColumn":21},{"ruleId":"156","severity":1,"message":"157","line":129,"column":18,"nodeType":"144","messageId":"158","endLine":129,"endColumn":19},{"ruleId":"146","severity":1,"message":"147","line":130,"column":51,"nodeType":"148","messageId":"149","endLine":130,"endColumn":53},{"ruleId":"156","severity":1,"message":"157","line":138,"column":18,"nodeType":"144","messageId":"158","endLine":138,"endColumn":19},{"ruleId":"146","severity":1,"message":"147","line":139,"column":57,"nodeType":"148","messageId":"149","endLine":139,"endColumn":59},{"ruleId":"146","severity":1,"message":"147","line":152,"column":67,"nodeType":"148","messageId":"149","endLine":152,"endColumn":69},{"ruleId":"146","severity":1,"message":"147","line":157,"column":37,"nodeType":"148","messageId":"149","endLine":157,"endColumn":39},{"ruleId":"146","severity":1,"message":"147","line":163,"column":39,"nodeType":"148","messageId":"149","endLine":163,"endColumn":41},{"ruleId":"159","severity":1,"message":"160","line":228,"column":53,"nodeType":"161","messageId":"162","endLine":228,"endColumn":55},{"ruleId":"142","severity":1,"message":"163","line":234,"column":11,"nodeType":"144","messageId":"145","endLine":234,"endColumn":26},{"ruleId":"159","severity":1,"message":"164","line":257,"column":81,"nodeType":"161","messageId":"165","endLine":257,"endColumn":83},{"ruleId":"146","severity":1,"message":"154","line":258,"column":33,"nodeType":"148","messageId":"149","endLine":258,"endColumn":35},{"ruleId":"159","severity":1,"message":"164","line":274,"column":83,"nodeType":"161","messageId":"165","endLine":274,"endColumn":85},{"ruleId":"146","severity":1,"message":"154","line":275,"column":35,"nodeType":"148","messageId":"149","endLine":275,"endColumn":37},{"ruleId":"146","severity":1,"message":"147","line":302,"column":40,"nodeType":"148","messageId":"149","endLine":302,"endColumn":42},{"ruleId":"146","severity":1,"message":"147","line":312,"column":50,"nodeType":"148","messageId":"149","endLine":312,"endColumn":52},{"ruleId":"146","severity":1,"message":"147","line":317,"column":39,"nodeType":"148","messageId":"149","endLine":317,"endColumn":41},{"ruleId":"146","severity":1,"message":"147","line":329,"column":43,"nodeType":"148","messageId":"149","endLine":329,"endColumn":45},{"ruleId":"142","severity":1,"message":"166","line":412,"column":7,"nodeType":"144","messageId":"145","endLine":412,"endColumn":20},{"ruleId":"159","severity":1,"message":"160","line":412,"column":51,"nodeType":"161","messageId":"162","endLine":412,"endColumn":53},{"ruleId":"167","severity":1,"message":"168","line":23,"column":57,"nodeType":"169","endLine":23,"endColumn":67},{"ruleId":"159","severity":1,"message":"164","line":97,"column":43,"nodeType":"161","messageId":"165","endLine":97,"endColumn":45},{"ruleId":"159","severity":1,"message":"164","line":109,"column":27,"nodeType":"161","messageId":"165","endLine":109,"endColumn":29},{"ruleId":"142","severity":1,"message":"170","line":8,"column":8,"nodeType":"144","messageId":"145","endLine":8,"endColumn":12},{"ruleId":"159","severity":1,"message":"164","line":145,"column":43,"nodeType":"161","messageId":"165","endLine":145,"endColumn":45},{"ruleId":"156","severity":1,"message":"157","line":192,"column":18,"nodeType":"144","messageId":"158","endLine":192,"endColumn":19},{"ruleId":"146","severity":1,"message":"147","line":268,"column":57,"nodeType":"148","messageId":"149","endLine":268,"endColumn":59},{"ruleId":"146","severity":1,"message":"147","line":277,"column":62,"nodeType":"148","messageId":"149","endLine":277,"endColumn":64},{"ruleId":"142","severity":1,"message":"171","line":308,"column":17,"nodeType":"144","messageId":"145","endLine":308,"endColumn":22},{"ruleId":"142","severity":1,"message":"172","line":309,"column":19,"nodeType":"144","messageId":"145","endLine":309,"endColumn":27},{"ruleId":"146","severity":1,"message":"147","line":316,"column":40,"nodeType":"148","messageId":"149","endLine":316,"endColumn":42},{"ruleId":"142","severity":1,"message":"173","line":356,"column":17,"nodeType":"144","messageId":"145","endLine":356,"endColumn":33},{"ruleId":"146","severity":1,"message":"154","line":387,"column":34,"nodeType":"148","messageId":"149","endLine":387,"endColumn":36},{"ruleId":"174","severity":1,"message":"175","line":468,"column":13,"nodeType":"176","messageId":"177","endLine":468,"endColumn":26},{"ruleId":"142","severity":1,"message":"178","line":483,"column":13,"nodeType":"144","messageId":"145","endLine":483,"endColumn":18},{"ruleId":"142","severity":1,"message":"179","line":484,"column":13,"nodeType":"144","messageId":"145","endLine":484,"endColumn":18},{"ruleId":"174","severity":1,"message":"175","line":515,"column":13,"nodeType":"176","messageId":"177","endLine":515,"endColumn":26},{"ruleId":"159","severity":1,"message":"164","line":763,"column":76,"nodeType":"161","messageId":"165","endLine":763,"endColumn":78},{"ruleId":"142","severity":1,"message":"180","line":904,"column":25,"nodeType":"144","messageId":"145","endLine":904,"endColumn":26},{"ruleId":"174","severity":1,"message":"175","line":963,"column":13,"nodeType":"176","messageId":"177","endLine":963,"endColumn":26},{"ruleId":"174","severity":1,"message":"175","line":1015,"column":13,"nodeType":"176","messageId":"177","endLine":1015,"endColumn":26},{"ruleId":"142","severity":1,"message":"173","line":1163,"column":17,"nodeType":"144","messageId":"145","endLine":1163,"endColumn":33},{"ruleId":"146","severity":1,"message":"147","line":1285,"column":40,"nodeType":"148","messageId":"149","endLine":1285,"endColumn":42},{"ruleId":"146","severity":1,"message":"147","line":1285,"column":100,"nodeType":"148","messageId":"149","endLine":1285,"endColumn":102},{"ruleId":"146","severity":1,"message":"147","line":1303,"column":54,"nodeType":"148","messageId":"149","endLine":1303,"endColumn":56},{"ruleId":"142","severity":1,"message":"181","line":1316,"column":33,"nodeType":"144","messageId":"145","endLine":1316,"endColumn":47},{"ruleId":"142","severity":1,"message":"182","line":1320,"column":37,"nodeType":"144","messageId":"145","endLine":1320,"endColumn":53},{"ruleId":"174","severity":1,"message":"175","line":1697,"column":13,"nodeType":"176","messageId":"177","endLine":1697,"endColumn":26},{"ruleId":"142","severity":1,"message":"183","line":1722,"column":17,"nodeType":"144","messageId":"145","endLine":1722,"endColumn":21},{"ruleId":"184","severity":1,"message":"185","line":1,"column":1,"nodeType":"186","endLine":215,"endColumn":2},{"ruleId":"156","severity":1,"message":"187","line":127,"column":9,"nodeType":"144","messageId":"158","endLine":127,"endColumn":17},{"ruleId":"188","severity":1,"message":"189","line":214,"column":10,"nodeType":"190","messageId":"191","endLine":214,"endColumn":41},{"ruleId":"142","severity":1,"message":"183","line":11,"column":13,"nodeType":"144","messageId":"145","endLine":11,"endColumn":17},"no-native-reassign",["192"],"no-negated-in-lhs",["193"],"@typescript-eslint/no-unused-vars","'stickerCategories' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'sizePayload'.","FunctionExpression","unsafeRefs","Expected '!==' and instead saw '!='.","'dataActionValue' is assigned a value but never used.","@typescript-eslint/no-redeclare","'i' is already defined.","redeclared","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'currentCategory' is assigned a value but never used.","Array.prototype.map() expects a return value from arrow function.","expectedInside","'overlayImages' is assigned a value but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'Item' is defined but never used.","'paths' is assigned a value but never used.","'pathOset' is assigned a value but never used.","'proportionsOnOld' is assigned a value but never used.","no-unreachable","Unreachable code.","ReturnStatement","unreachableCode","'stepX' is assigned a value but never used.","'stepY' is assigned a value but never used.","'s' is assigned a value but never used.","'countItemColor' is assigned a value but never used.","'enableSelectPath' is assigned a value but never used.","'that' is assigned a value but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","'generate' is already defined.","no-new-func","The Function constructor is eval.","NewExpression","noFunctionConstructor","no-global-assign","no-unsafe-negation"]